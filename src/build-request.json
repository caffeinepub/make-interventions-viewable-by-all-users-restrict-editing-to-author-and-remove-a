{
  "kind": "build_request",
  "title": "Add document viewer with zoom, folder management, and Vial Traite Service branding",
  "projectName": "Vial Traite Service",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Replace the application logo with the provided Vial Traite Service logo (showing blue text, orange leaves, green circular border, and blue cow illustration)",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-user-logo-request"
        ],
        "quotes": [
          "remplace le logo de lappli par le logo que je te fournie"
        ]
      },
      "acceptanceCriteria": [
        "The Vial Traite Service logo is displayed in the application header/navigation",
        "Logo maintains proper aspect ratio and quality",
        "Logo is visible on all pages of the application"
      ]
    },
    {
      "id": "REQ-2",
      "text": "Apply the Vial Traite Service brand color palette throughout the application UI: primary blue (#0066CC), lime green (#99CC33), and orange (#FF9933) from the logo",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-user-color-request"
        ],
        "quotes": [
          "inclu le code couleur du logo pour le design de lappli"
        ]
      },
      "acceptanceCriteria": [
        "Primary UI elements use blue #0066CC from the logo",
        "Accent colors use lime green #99CC33 and orange #FF9933 appropriately",
        "Color scheme is applied consistently across all pages and components",
        "Colors maintain sufficient contrast for accessibility"
      ]
    },
    {
      "id": "REQ-3",
      "text": "Implement an in-app document viewer with zoom and image enlargement capabilities for technical folder documents",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-user-viewer-request"
        ],
        "quotes": [
          "Je veux pouvoir consulter les documents du dossier technique directement sur l'appli en pouvant agrandir l'image est zoomer"
        ]
      },
      "acceptanceCriteria": [
        "Users can open documents directly within the application",
        "Viewer supports zoom in/out functionality",
        "Users can enlarge images to full screen",
        "Pinch-to-zoom works on touch devices",
        "Viewer supports images, PDFs, and other document formats"
      ]
    },
    {
      "id": "REQ-4",
      "text": "Enable users to create, rename, and organize subfolders within the technical folder to categorize documents by theme",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-user-subfolder-request"
        ],
        "quotes": [
          "je veux pouvoir créer des sous dossiers pour pouvoir différencier différents types de documents en les renomants en les classants par thème"
        ]
      },
      "acceptanceCriteria": [
        "Users can create new subfolders with custom names",
        "Users can rename existing folders and subfolders",
        "Folder hierarchy is displayed clearly in the UI",
        "Folders can be organized by user-defined themes",
        "Folder names are validated (no slashes, non-empty)"
      ]
    },
    {
      "id": "REQ-5",
      "text": "Implement drag-and-drop functionality to move folders and files within the technical folder structure",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-user-move-request"
        ],
        "quotes": [
          "pouvoir les deplacé"
        ]
      },
      "acceptanceCriteria": [
        "Users can drag folders to reposition them",
        "Users can drag files between folders",
        "Visual feedback indicates valid drop targets during drag operations",
        "Dropped items update their location in the folder structure",
        "Drag-and-drop works on both desktop and touch devices"
      ]
    },
    {
      "id": "REQ-6",
      "text": "Extend technical folder support to handle all file formats including images, PDFs, Word documents, Excel spreadsheets, and other common document types",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-user-formats-request"
        ],
        "quotes": [
          "toutes sortes de format"
        ]
      },
      "acceptanceCriteria": [
        "Technical folder accepts uploads of images (JPG, PNG, GIF, WebP, etc.)",
        "Technical folder accepts PDFs",
        "Technical folder accepts Word documents (.doc, .docx)",
        "Technical folder accepts Excel spreadsheets (.xls, .xlsx)",
        "File type icons or previews differentiate document types",
        "All accepted formats can be downloaded"
      ]
    },
    {
      "id": "REQ-7",
      "text": "Add the same document viewer with zoom and enlargement capabilities to client intervention files",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-user-client-files-request"
        ],
        "quotes": [
          "garder les fichiers clients avec meme fonctionnalite pour consulter fichier integré dans les interventions client"
        ]
      },
      "acceptanceCriteria": [
        "Intervention media files can be opened in the in-app viewer",
        "Viewer supports zoom and enlargement for intervention documents",
        "Functionality matches the technical folder document viewer",
        "Viewer is accessible from intervention detail views"
      ]
    }
  ],
  "constraints": [
    "Do not modify the useInternetIdentity hook (frontend/src/hooks/useInternetIdentity.ts)",
    "Do not modify the useActor hook (frontend/src/hooks/useActor.ts)",
    "Do not modify main.tsx (frontend/src/main.tsx)",
    "Do not modify UI component sources in frontend/src/components/ui",
    "Maintain single-actor Motoko architecture in backend/main.mo",
    "Preserve existing client file management functionality",
    "Keep offline sync capabilities intact"
  ],
  "nonGoals": [
    "Real-time collaboration features",
    "Version control for documents",
    "Document editing within the app",
    "OCR or text extraction from documents",
    "Cloud storage integration beyond Internet Computer",
    "Multi-language interface (French is primary)"
  ],
  "imageRequirements": {
    "required": [
      "Vial Traite Service logo with blue text, orange leaf accents, lime green circular border, and blue cow illustration on transparent background (vial-traite-logo.dim_400x200.png)"
    ],
    "edits": []
  }
}